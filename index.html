<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Travel Explorer</title>
<style>
:root{--gap:16px;-VX-card-bg:#0b1b33cc}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  min-height:100vh;
  color:#e2e8f0;
  background:#0b0f1a;
  transition:background 0.8s;
}
.overlay{
  position:fixed;inset:0;z-index:-1;
  background:rgba(0,0,0,0.35);
}
header{
  background:rgba(11,36,71,0.85);
  backdrop-filter:blur(10px);
  padding:16px 24px;
  display:flex;align-items:center;justify-content:space-between;
  position:sticky;top:0;z-index:1000;
  color:#fff;
}
.brand{font-weight:700;font-size:22px;color:#fff}
nav a{margin:0 12px;text-decoration:none;color:#cbd5e1;font-weight:500;transition:0.3s}
nav a:hover{color:#3ba0ff}

.container{max-width:1200px;margin:0 auto;padding:24px}
.search-row{display:flex;gap:12px;margin-bottom:20px}
#searchInput{flex:1;padding:12px 15px;border-radius:10px;border:1px solid #334155;background:#0b1b33;color:#e2e8f0;font-size:1rem;}
#searchBtn,#locBtn, .book-btn {
  padding:12px 16px;
  border:none;
  border-radius:10px;
  background:linear-gradient(45deg,#146eb4,#0e4d82);
  color:#fff;
  font-weight:600;
  cursor:pointer;
  transition:0.3s;
  box-shadow:0 0 6px rgba(20,110,180,0.5),0 0 10px rgba(14,77,130,0.5);
}

#searchBtn:hover,#locBtn:hover, .book-btn:hover {
  transform:scale(1.05);
  box-shadow:0 0 10px rgba(20,110,180,0.7),0 0 16px rgba(14,77,130,0.7);
}

.grid{display:grid;grid-template-columns:1fr 380px;gap:20px}
.card{background:var(--card-bg);color:#e2e8f0;padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(20,110,180,0.3);transition:0.3s;}
.card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(20,110,180,0.5);}
.photos{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.photos img{width:100%;height:120px;object-fit:cover;border-radius:8px;cursor:pointer;transition:0.3s}
.photos img:hover{transform:scale(1.05)}
.dest-title{display:flex;align-items:center;justify-content:space-between;gap:12px}
.weather-current{display:flex;flex-direction:column;gap:8px;align-items:flex-start}
.temp{font-size:40px;font-weight:700}
.meta{font-size:14px;color:#cbd5e1}
.forecast{display:flex;gap:12px;overflow-x:auto;padding-top:8px;scrollbar-width:thin}
.forecast .day{min-width:80px;background:#0b1b33;padding:8px;border-radius:8px;text-align:center;box-shadow:0 4px 10px rgba(20,110,180,0.2);flex-shrink:0;transition:0.3s;}
.forecast .day:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(20,110,180,0.35);}
.forecast lottie-player{width:50px;height:50px;margin:0 auto;}

.images-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin-top: 20px;
}
.image-card {
  background: rgba(11,36,71,0.85);
  border-radius: 12px;
  box-shadow:0 6px 20px rgba(20,110,180,0.3);
  overflow: hidden;
  transition:0.3s;
}
.image-card img{width:100%;height:180px;object-fit:cover;}
.caption{padding:16px}
.caption h3{margin-bottom:4px;}
.caption .duration{color:#cbd5e1;font-size:14px;}
.package-details{list-style:none;padding:0;margin:8px 0;font-size:14px;color:#cbd5e1;}
.price-box{display:flex;justify-content:space-between;align-items:center;margin-top:12px;}
.book-btn {
  padding: 8px 12px;
  background: #146eb4;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 0 4px rgba(20,110,180,0.4), 0 0 8px rgba(14,77,130,0.4); /* reduced glow */
}

.book-btn:hover {
  background: #0e4d82;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(20,110,180,0.6), 0 0 12px rgba(14,77,130,0.6); /* lighter hover glow */
}

/* Footer */
footer{
  background:linear-gradient(135deg,#0b1b33,#146eb4);
  color:#e2e8f0;
  padding:40px 20px 20px;
  font-size:14px;
  margin-top:40px;
  border-radius:12px;
}
footer h4{margin-bottom:10px;border-bottom:1px solid rgba(255,255,255,0.2);padding-bottom:6px;font-size:15px;}
footer ul{list-style:none;padding:0;line-height:1.8}
footer ul a{color:#cbd5e1;text-decoration:none;transition:0.3s}
footer ul a:hover{color:#3ba0ff}
.footer-grid{display:grid;grid-template-columns: repeat(auto-fit, minmax(200px,1fr));gap:20px;max-width:1200px;margin:auto;}
.footer-bottom{max-width:1200px;margin:30px auto 0;display:flex;flex-wrap:wrap;gap:30px;align-items:center;justify-content:space-between;font-size:13px;color:#bbb;}
.footer-bottom p{margin-bottom:8px;font-weight:600;}
.footer-bottom img{height:40px;margin-right:12px;vertical-align:middle;}
.footer-payments img{height:28px;margin-right:8px;}

</style>
</head>
<body>
<div class="overlay"></div>

<header>
  <div style="font-family: 'Poppins', sans-serif; font-weight:700; font-size:24px; color:#fff; display:flex; align-items:center; gap:6px;">
  <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="#3ba0ff" viewBox="0 0 24 24"><path d="M2.01 21l1.36-4.27 7.86-1.13L12 15l2-8-7-4v6l-5 1.99L2.01 21z"/></svg>
  <span>Travel Explorer</span>
</div>
  <nav id="mainNav"></nav>
</header>

<main class="container">
  <!-- Search -->
  <div class="search-row">
    <input id="searchInput" type="text" placeholder="Where do you want to travel? e.g. Tokyo" />
    <button id="searchBtn">Explore</button>
    <button id="locBtn" title="Use my location">üìç</button>
  </div>

  <!-- Grid -->
  <div class="grid">
    <!-- Left Column -->
    <section>
      <div class="card">
        <div class="dest-title">
          <div>
            <h2 id="cityName">‚Äî</h2>
            <div id="shortDesc" style="color:#cbd5e1;font-size:14px">Search a city to see photos and weather</div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div style="font-size:13px;color:#cbd5e1">Units</div>
            <select id="unitsSelect">
              <option value="metric">¬∞C</option>
              <option value="imperial">¬∞F</option>
            </select>
          </div>
        </div>
        <hr style="margin:14px 0;border:none;border-top:1px solid #334155"/>
        <h3 style="margin:8px 0">Photos</h3>
        <div id="photos" class="photos"></div>
        <div id="photosFooter" style="margin-top:10px;color:#64748b;font-size:13px"></div>
      </div>
      <!-- Modal -->
      <div id="imageModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;padding:20px;z-index:9999;">
        <img id="modalImg" src="" style="max-width:100%;max-height:90vh;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.4)"/>
      </div>
    </section>

    <!-- Right Column -->
    <aside>
      <div class="card">
        <h3>Current Weather</h3>
        <div id="weatherBox" class="weather-current">
          <div id="weatherAnimation"></div>
          <div class="temp" id="temp">‚Äî</div>
          <div class="meta" id="weatherDesc">‚Äî</div>
          <div class="meta" id="weatherDetails">‚Äî</div>

          <div style="margin-top:8px">
            <strong>Hourly forecast (24h)</strong>
            <div id="hourlyForecast" class="forecast"></div>
          </div>

          <div style="margin-top:8px">
            <strong>7-day forecast</strong>
            <div id="forecast" class="forecast"></div>
          </div>
        </div>
      </div>
    </aside>
  </div>
</main>

<section class="section">
  <h2>Explore Stunning Cities</h2>
  <div class="images-grid" id="gallery"></div>
</section>

<footer>
  <div class="footer-grid">
    <div>
      <h4>Know Travel Explorer</h4>
      <ul>
        <li><a href="#">About Us</a></li>
        <li><a href="#">Travel Agent</a></li>
        <li><a href="#">Career</a></li>
        <li><a href="#">Contact Us</a></li>
      </ul>
    </div>
    <div>
      <h4>Policies & FAQ's</h4>
      <ul>
        <li><a href="#">Terms & Conditions</a></li>
        <li><a href="#">Privacy Policy</a></li>
        <li><a href="#">Refund Policy</a></li>
        <li><a href="#">FAQ's</a></li>
      </ul>
    </div>
    <div>
      <h4>Customer Reviews</h4>
      <p style="color:#ccc;font-size:13px">Testimonials</p>
      <p style="color:#ccc;font-size:13px;">Email: <a href="mailto:info@travelexplorer.in" style="color:#3ba0ff;">info@travelexplorer.in</a></p>
    </div>
    <div>
      <h4>Social</h4>
      <ul>
        <li><a href="#">facebook</a></li>
        <li><a href="#">Twitter</a></li>
        <li><a href="#">linkedin</a></li>
        <li><a href="#">youtube</a></li>
        <li><a href="#">instagram</a></li>
      </ul>
    </div>
  </div>
  <hr style="border:none;border-top:1px solid rgba(255,255,255,0.2); margin:30px 0;">
  <div class="footer-bottom">
    <div class="footer-payments">
      <p style="margin-bottom:8px;font-weight:600;">We Accept</p>
      <img src="https://img.icons8.com/color/48/visa.png"/>
      <img src="https://img.icons8.com/color/48/mastercard.png"/>
      <img src="https://img.icons8.com/color/48/rupay.png"/>
      <img src="https://img.icons8.com/color/48/paypal.png"/>
    </div>
    <div>
    <p style="margin-bottom:8px;font-weight:600;">Verified by</p>
    <p>TAAI & IATO</p>
  </div>
  <div>
    <p style="margin-bottom:8px;font-weight:600;">Member of</p>
    <p>Himachal Tourism</p>
    <p>Dubai Expert</p>
  </div>
</div>

<div style="text-align:center; margin-top:30px; font-size:13px; color:#bbb;">
    ¬© 2025 Travel Explorer. All rights reserved.
</div>
</footer>


<!-- Scripts -->
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<script>

const OPENWEATHER_KEY = "8eaa014614b0458c14c4a34c431274d5";
const el=id=>document.getElementById(id);
const formatTemp=(v,u)=>`${Math.round(v)}¬∞${u==='metric'?'C':'F'}`;

function getAnim(main,hour){
  main=main.toLowerCase();
  if(hour<6||hour>18) return "https://assets4.lottiefiles.com/packages/lf20_mzlhj8fh.json";
  if(main.includes("cloud")) return "https://assets4.lottiefiles.com/packages/lf20_j1adxtyb.json";
  if(main.includes("rain")||main.includes("drizzle")) return "https://assets4.lottiefiles.com/packages/lf20_igw2ua9k.json";
  if(main.includes("snow")) return "https://assets4.lottiefiles.com/packages/lf20_gijh2sh6.json";
  return "https://assets4.lottiefiles.com/packages/lf20_tbrwjiv5.json";
}

// Event listeners
el('searchBtn').addEventListener('click', handleSearch);
el('searchInput').addEventListener('keyup', e=>{if(e.key==='Enter') handleSearch();});
el('locBtn').addEventListener('click', useGeolocation);
el('unitsSelect').addEventListener('change', ()=>{const c=el('cityName').dataset.city;if(c) fetchWeather(c);});
el('imageModal').addEventListener('click', ()=>{el('imageModal').style.display='none';});

// Fetch photos
async function fetchPhotos(query){
  const photosDiv = el('photos'); photosDiv.innerHTML='Loading photos...';
  try{
    const res = await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(query)}&per_page=6&client_id=${UNSPLASH_ACCESS_KEY}`);
    const data = await res.json(); photosDiv.innerHTML='';
    if(!data.results.length){ photosDiv.innerHTML='<p>No photos found.</p>'; return; }
    data.results.forEach(photo=>{
      const img=document.createElement('img'); img.src=photo.urls.small; img.alt=query;
      img.onclick=()=>{el('modalImg').src=photo.urls.full; el('imageModal').style.display='flex';};
      photosDiv.appendChild(img);
    });
    el('photosFooter').textContent = `Photos powered by Unsplash`;
  }catch(err){ photosDiv.innerHTML='<p>Error loading photos.</p>'; }
}

// Fetch weather
async function fetchWeather(city){
  const units = el('unitsSelect').value;
  try {
    const geoRes = await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(city)}&limit=1&appid=${OPENWEATHER_KEY}`);
    const geoData = await geoRes.json();
    if(!geoData.length){ el('weatherBox').innerHTML='<p>City not found</p>'; return; }

    const {lat, lon, name, country} = geoData[0];
    el('cityName').textContent=`${name}, ${country}`; 
    el('cityName').dataset.city=city;

    const currentRes = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=${units}&appid=${OPENWEATHER_KEY}`);
    const currentData = await currentRes.json();
    if(!currentData.weather){ el('weatherBox').innerHTML='<p>No weather data found.</p>'; return; }

    const weatherMain = currentData.weather[0].main;
    const hour = new Date(currentData.dt*1000).getHours();

    const overlay = document.querySelector('.overlay');
    if(hour<6||hour>18) overlay.style.background='rgba(0,0,30,0.55)';
    else if(weatherMain.toLowerCase().includes('cloud')) overlay.style.background='rgba(150,150,150,0.45)';
    else if(weatherMain.toLowerCase().includes('rain')) overlay.style.background='rgba(50,80,120,0.5)';
    else if(weatherMain.toLowerCase().includes('snow')) overlay.style.background='rgba(200,220,255,0.5)';
    else overlay.style.background='rgba(255,220,100,0.35)';

    const animDiv = el('weatherAnimation'); animDiv.innerHTML='';
    const lottieEl=document.createElement('lottie-player');
    lottieEl.setAttribute('src', getAnim(weatherMain,hour));
    lottieEl.setAttribute('background','transparent');
    lottieEl.setAttribute('speed','1'); lottieEl.setAttribute('loop','true'); lottieEl.setAttribute('autoplay','true');
    animDiv.appendChild(lottieEl);

    el('temp').textContent=formatTemp(currentData.main.temp, units);
    el('weatherDesc').textContent=currentData.weather[0].description;
    el('weatherDetails').textContent=`Feels like ${formatTemp(currentData.main.feels_like, units)} ‚Ä¢ Humidity ${currentData.main.humidity}%`;
  } catch(err){
    el('weatherBox').innerHTML='<p>Error loading weather data.</p>'; 
  }
}

async function handleSearch(){
  const q=el('searchInput').value.trim();if(!q) return alert('Please enter a city name.');
  el('cityName').textContent='Searching...'; el('cityName').dataset.city=q;
  fetchPhotos(q); fetchWeather(q);
}

function useGeolocation(){
  if(!navigator.geolocation) return alert("Geolocation not supported");
  navigator.geolocation.getCurrentPosition(async pos=>{
    const {latitude, longitude} = pos.coords;
    try{
      const geo = await fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${latitude}&lon=${longitude}&limit=1&appid=${OPENWEATHER_KEY}`);
      const g = await geo.json(); if(g.length){ el('searchInput').value=g[0].name; handleSearch(); }
    }catch(err){ alert("Could not fetch location weather"); }
  });
}

// Login Nav
const isLoggedIn = localStorage.getItem('isLoggedIn'); 
const nav = document.getElementById('mainNav');
nav.innerHTML = '';

if(isLoggedIn === 'true'){
  nav.innerHTML = `
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="profile.html">Profile</a>
    <a href="my-bookings.html">My Bookings</a>
    <a href="#" id="logoutBtn">Logout</a>
  `;
  document.getElementById('logoutBtn').addEventListener('click', () => {
    localStorage.removeItem('isLoggedIn');
    location.reload();
  });
} else {
  nav.innerHTML = `<a href="login.html">Login</a>`;
}

</script>

<script>
const UNSPLASH_ACCESS_KEY = 'axNBIeUkypLfgApcS4Q61UguAB13oo-HKYp2q__iBgU';

const destinations = [
  {name:"Tokyo", country:"Japan", nights:"4N/5D", price:"‚Çπ45,000", features:["5 Star Hotel","Guided City Tour","Airport Pickup"]},
  {name:"Paris", country:"France", nights:"5N/6D", price:"‚Çπ60,000", features:["Luxury Stay","Eiffel Tower Visit","Seine River Cruise"]},
  {name:"Hyderabad", country:"India", nights:"3N/4D", price:"‚Çπ15,000", features:["4 Star Hotel","Charminar & Golconda Tour","Food Walk"]},
  {name:"London", country:"UK", nights:"6N/7D", price:"‚Çπ70,000", features:["Hotel Stay","London Eye Pass","City Sightseeing"]},
  {name:"New York", country:"USA", nights:"5N/6D", price:"‚Çπ80,000", features:["Times Square Tour","Statue of Liberty","Central Park Walk"]},
  {name:"Dubai", country:"UAE", nights:"4N/5D", price:"‚Çπ40,000", features:["Burj Khalifa Ticket","Desert Safari","Luxury Stay"]},
  {name:"Rome", country:"Italy", nights:"4N/5D", price:"‚Çπ50,000", features:["Colosseum Tour","Vatican Entry","Hotel Stay"]},
  {name:"Singapore", country:"Singapore", nights:"3N/4D", price:"‚Çπ35,000", features:["Sentosa Island","Marina Bay Sands","Hotel Stay"]},
  {name:"Istanbul", country:"Turkey", nights:"4N/5D", price:"‚Çπ42,000", features:["Blue Mosque Visit","Bosporus Cruise","Luxury Hotel"]},
  {name:"Kyoto", country:"Japan", nights:"3N/4D", price:"‚Çπ38,000", features:["Temple Tour","Geisha District Walk","Ryokan Stay"]},
  {name:"Venice", country:"Italy", nights:"4N/5D", price:"‚Çπ55,000", features:["Gondola Ride","St. Mark‚Äôs Square","Canal View Hotel"]},
  {name:"Santorini", country:"Greece", nights:"4N/5D", price:"‚Çπ58,000", features:["Beach Resort Stay","Sunset View Tour","Wine Tasting"]},
  {name:"Bali", country:"Indonesia", nights:"5N/6D", price:"‚Çπ40,000", features:["Beach Villa","Temple Tour","Adventure Activities"]},
  {name:"Machu Picchu", country:"Peru", nights:"6N/7D", price:"‚Çπ90,000", features:["Mountain Trek","Historic Ruins Tour","Hotel Stay"]},
  {name:"Patagonia", country:"Argentina/Chile", nights:"7N/8D", price:"‚Çπ1,20,000", features:["Glacier Trek","National Park Tour","Luxury Lodge"]},
  {name:"Iceland", country:"Iceland", nights:"5N/6D", price:"‚Çπ95,000", features:["Northern Lights Tour","Blue Lagoon","4 Star Hotel"]},
  {name:"Petra", country:"Jordan", nights:"3N/4D", price:"‚Çπ48,000", features:["Petra Entry","Guided Tour","Desert Camp Stay"]},
  {name:"Great Barrier Reef", country:"Australia", nights:"5N/6D", price:"‚Çπ85,000", features:["Snorkeling Tour","Island Cruise","Resort Stay"]},
  {name:"Taj Mahal", country:"India", nights:"2N/3D", price:"‚Çπ12,000", features:["Agra Fort Tour","Guided Taj Visit","Hotel Stay"]},
  {name:"Barcelona", country:"Spain", nights:"4N/5D", price:"‚Çπ52,000", features:["Sagrada Familia Tour","Tapas Experience","Hotel Stay"]},
  {name:"Rio de Janeiro", country:"Brazil", nights:"5N/6D", price:"‚Çπ70,000", features:["Christ the Redeemer","Copacabana Beach","Hotel Stay"]},
  {name:"Cape Town", country:"South Africa", nights:"5N/6D", price:"‚Çπ65,000", features:["Table Mountain","Cape Point Tour","Resort Stay"]},
  {name:"Seoul", country:"South Korea", nights:"4N/5D", price:"‚Çπ48,000", features:["Gyeongbokgung Palace","K-Pop Street","Luxury Stay"]},
  {name:"Bangkok", country:"Thailand", nights:"3N/4D", price:"‚Çπ25,000", features:["Grand Palace","Street Food Tour","Hotel Stay"]},
  {name:"Lisbon", country:"Portugal", nights:"4N/5D", price:"‚Çπ45,000", features:["Bel√©m Tower Visit","Fado Music Night","City Tram Tour"]}
];

const gallery = document.getElementById('gallery');

destinations.forEach(async (dest) => {
  const url = `https://api.unsplash.com/search/photos?query=${dest.name}&client_id=${UNSPLASH_ACCESS_KEY}&orientation=landscape&per_page=1`;

  try {
    const res = await fetch(url);
    const data = await res.json();
    const imgUrl = data.results[0]?.urls?.regular || 'https://via.placeholder.com/400x250';

    const card = document.createElement('div');
    card.className = 'image-card';
    card.innerHTML = `
      <img src="${imgUrl}" alt="${dest.name}" loading="lazy">
      <div class="caption">
        <h3>${dest.name}</h3>
        <p>${dest.country} ‚Äî <span class="duration">${dest.nights}</span></p>
        <ul class="package-details">
          ${dest.features.map(f => `<li>‚úîÔ∏è ${f}</li>`).join('')}
        </ul>
        <div class="price-box">
          <p><strong>${dest.price}</strong> /Person</p>
          <button class="book-btn" data-destination="${dest.name}">Book Now</button>
        </div>
      </div>
    `;
    gallery.appendChild(card);
  } catch (err) {
    console.error(`Error fetching image for ${dest.name}:`, err);
  }
});

gallery.addEventListener('click', function(e) {
  if (e.target && e.target.classList.contains('book-btn')) {
    const selectedDestination = e.target.getAttribute('data-destination');
    localStorage.setItem('selectedDestination', selectedDestination);
    window.location.href = 'booking.html';
  }
});
</script>

</body>
</html>
